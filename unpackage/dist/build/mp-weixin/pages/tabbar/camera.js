(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/tabbar/camera"],{"28f6":function(e,t,n){"use strict";var o=n("91c7"),c=n.n(o);c.a},"45c1":function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o}));var o={uUpload:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-upload/u-upload")]).then(n.bind(null,"ee50"))},uButton:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-button/u-button")]).then(n.bind(null,"4a47"))}},c=function(){var e=this.$createElement;this._self._c},i=[]},"4e0b":function(e,t,n){"use strict";n.r(t);var o=n("92e7"),c=n.n(o);for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);t["default"]=c.a},"79b9":function(e,t,n){"use strict";(function(e,t){var o=n("4ea4");n("31ee"),n("4a2a");o(n("66fd"));var c=o(n("e6eb"));e.__webpack_require_UNI_MP_PLUGIN__=n,t(c.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},"91c7":function(e,t,n){},"92e7":function(e,t,n){"use strict";(function(e){var o=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=o(n("2eee")),i=o(n("9523")),u=o(n("c973"));function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s={data:function(){return{fileList1:[],fileList2:[],code:""}},onShow:function(){var t=this;e.getSetting({success:function(n){n.authSetting["scope.camera"]?t.isShow=!0:e.authorize({scope:"scope.camera",success:function(n){e.showToast({title:"授权成功",icon:"none"}),t.isShow=!0},fail:function(){e.showModal({content:"检测到您没打开获取相机功能权限，是否去设置打开？",confirmText:"确认",cancelText:"取消",success:function(t){t.confirm?e.openSetting({success:function(t){e.showToast({title:"授权成功",icon:"none",duration:2e3})},fail:function(e){console.log(e)}}):e.showToast({title:"获取授权相机授权失败",icon:"none",success:function(){e.navigateBack()}})}})}})},fail:function(){e.showToast({title:"获取授权相机授权失败",icon:"none",success:function(){e.navigateBack()}})}})},methods:{qrCode:function(){var t=this;e.scanCode({success:function(e){t.code=e.result,e.result,console.log("条码类型："+e.scanType),console.log("条码内容："+e.result)},fail:function(){e.showToast({title:"识别失败",icon:"none",duration:2e3})}})},deletePic:function(e){this["fileList".concat(e.name)].splice(e.index,1)},afterRead:function(e){var t=this;return(0,u.default)(c.default.mark((function n(){var o,i,u,a,s;return c.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:o=[].concat(e.file),i=t["fileList".concat(e.name)].length,o.map((function(n){t["fileList".concat(e.name)].push(r(r({},n),{},{status:"uploading",message:"上传中"}))})),u=0;case 4:if(!(u<o.length)){n.next=14;break}return n.next=7,t.uploadFilePromise(o[u].url);case 7:a=n.sent,s=t["fileList".concat(e.name)][i],t["fileList".concat(e.name)].splice(i,1,Object.assign(s,{status:"success",message:"",url:a})),i++;case 11:u++,n.next=4;break;case 14:case"end":return n.stop()}}),n)})))()},uploadFilePromise:function(t){return new Promise((function(n,o){e.uploadFile({url:"http://192.168.2.21:7001/upload",filePath:t,name:"file",formData:{user:"test"},success:function(e){setTimeout((function(){n(e.data.data)}),1e3)}})}))}}};t.default=s}).call(this,n("543d")["default"])},e6eb:function(e,t,n){"use strict";n.r(t);var o=n("45c1"),c=n("4e0b");for(var i in c)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return c[e]}))}(i);n("28f6");var u=n("f0c5"),a=Object(u["a"])(c["default"],o["b"],o["c"],!1,null,"9948d796",null,!1,o["a"],void 0);t["default"]=a.exports}},[["79b9","common/runtime","common/vendor"]]]);